.TH "The 'sharefs' file-system." 3 "3 Apr 2013" "Version 2.0.3" "libshare" \" -*- nroff -*-
.ad l
.nh
.SH NAME
The 'sharefs' file-system. \- 
.SS "Data Structures"

.in +1c
.ti -1c
.RI "struct \fBshfs_tree\fP"
.br
.RI "\fIThe sharefs filesystem structure. \fP"
.in -1c
.SS "Modules"

.in +1c
.ti -1c
.RI "\fBThe 'sharefs' inode subsystem.\fP"
.br
.PP

.RI "\fIThe 'sharefs' inode subsystem. \fP"
.in -1c
.SS "Defines"

.in +1c
.ti -1c
.RI "#define \fBSHFS_LEVEL_PUBLIC\fP   0"
.br
.ti -1c
.RI "#define \fBSHFS_MAX_LEVELS\fP   1"
.br
.ti -1c
.RI "#define \fBNAME_MAX\fP   4095"
.br
.ti -1c
.RI "#define \fBPATH_MAX\fP   NAME_MAX"
.br
.ti -1c
.RI "#define \fBSHFS_OVERLAY\fP   (1 << 0)"
.br
.RI "\fIOverlay sharefs on top of current filesystem. \fP"
.ti -1c
.RI "#define \fBSHFS_TRACK\fP   (1 << 1)"
.br
.RI "\fITrack all revisions of file modifications. \fP"
.ti -1c
.RI "#define \fBSHFS_PRIVATE\fP   (1 << 2)"
.br
.RI "\fIA sharefs filesystem that is externally unaccessible beyond the scope of this application. \fP"
.ti -1c
.RI "#define \fBshfs_public_root\fP   root[SHFS_LEVEL_PUBLIC]"
.br
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "\fBshfs_tree\fP * \fBshfs_init\fP (char *app_name, int flags)"
.br
.RI "\fICreates a reference to a sharefs filesystem. \fP"
.ti -1c
.RI "\fBshfs_node\fP * \fBshfs_node_entry\fP (\fBshfs_node\fP *parent, char *name, int mode)"
.br
.RI "\fISearch for a reference to a sharefs inode labelled 'name' in the \fIparent\fP inode. \fP"
.ti -1c
.RI "char * \fBshfs_app_name\fP (char *app_name)"
.br
.RI "\fIStrips the absolute parent from \fIapp_name\fP. \fP"
.in -1c
.SS "Variables"

.in +1c
.ti -1c
.RI "\fBshfs_ino_type\fP \fBshfs_node::d_type\fP"
.br
.ti -1c
.RI "off_t \fBshfs_node::d_off\fP"
.br
.ti -1c
.RI "unsigned short \fBshfs_node::d_reclen\fP"
.br
.ti -1c
.RI "struct in6_addr \fBshfs_node::@1::addr6\fP"
.br
.ti -1c
.RI "union {"
.br
.ti -1c
.RI "   struct in_addr \fBaddr\fP"
.br
.ti -1c
.RI "   struct in6_addr \fBaddr6\fP"
.br
.ti -1c
.RI "} \fBshfs_node::peer\fP"
.br
.ti -1c
.RI "char \fBshfs_node::d_name\fP [4095+1]"
.br
.ti -1c
.RI "\fBshfs_ino\fP \fBshfs_tree::d_cwd_ino\fP"
.br
.in -1c
.SH "Define Documentation"
.PP 
.SS "#define SHFS_OVERLAY   (1 << 0)"
.PP
Overlay sharefs on top of current filesystem. \fBNote:\fP
.RS 4
Use 'shnet --nosync' for example behavior of this flag. 
.RE
.PP

.PP
Definition at line 54 of file shfs.h.
.SS "#define SHFS_PRIVATE   (1 << 2)"
.PP
A sharefs filesystem that is externally unaccessible beyond the scope of this application. \fBNote:\fP
.RS 4
Use 'shnet --hidden' for example behavior of this flag. 
.RE
.PP

.PP
Definition at line 67 of file shfs.h.
.SS "#define SHFS_TRACK   (1 << 1)"
.PP
Track all revisions of file modifications. \fBNote:\fP
.RS 4
Use 'shnet --track' for example behavior of this flag. 
.RE
.PP

.PP
Definition at line 60 of file shfs.h.
.SH "Function Documentation"
.PP 
.SS "char* shfs_app_name (char * app_name)"
.PP
Strips the absolute parent from \fIapp_name\fP. \fBNote:\fP
.RS 4
'/test/one/two' becomes 'two' 
.RE
.PP
\fBParameters:\fP
.RS 4
\fIapp_name\fP The running application's executable path 
.RE
.PP
\fBReturns:\fP
.RS 4
Relative filename of executable. 
.RE
.PP

.SS "\fBshfs_tree\fP* shfs_init (char * app_name, int flags)"
.PP
Creates a reference to a sharefs filesystem. \fIapp_name\fP The application's executable name. \fIflags\fP A combination of SHFS_XXX flags. 
.PP
\fBReturns:\fP
.RS 4
\fBshfs_tree\fP The sharefs filesystem. 
.RE
.PP

.SS "\fBshfs_node\fP* shfs_node_entry (\fBshfs_node\fP * parent, char * name, int mode)"
.PP
Search for a reference to a sharefs inode labelled 'name' in the \fIparent\fP inode. \fBNote:\fP
.RS 4
A new inode is created if a pre-existing one is not found. \fIparent\fP The location where the inode presides. \fIname\fP The label name of the inode. \fImode\fP A particular inode mode (SHINO_XXX). 
.RE
.PP
\fBReturns:\fP
.RS 4
A sharefs inode reference. 
.RE
.PP

.SH "Author"
.PP 
Generated automatically by Doxygen for libshare from the source code.
